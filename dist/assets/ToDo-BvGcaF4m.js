import{r as l,O as c,j as t}from"./vendor-Toy_dwVB.js";import"./three-DNkHk5z5.js";const j=()=>{const[o,n]=l.useState([]),[i,d]=l.useState(""),[p,m]=l.useState(1);l.useEffect(()=>{c.get("http://localhost:5000/api/tasks").then(e=>{const a=e.data.sort((s,r)=>r.importance-s.importance);n(a)})},[]);const u=async()=>{if(i.trim()!==""){const e={text:i,completed:!1,importance:p};try{const a=await c.post("http://localhost:5000/api/tasks",e),s=[...o,a.data].sort((r,g)=>g.importance-r.importance);n(s),d(""),m(1)}catch(a){console.error("Error adding task:",a)}}},x=async e=>{const a=o.map(s=>s._id===e?{...s,completed:!s.completed}:s);n(a);try{const s=a.find(r=>r._id===e);await c.put(`http://localhost:5000/api/tasks/${e}`,s)}catch(s){console.error("Error updating task:",s)}},h=async e=>{try{await c.delete(`http://localhost:5000/api/tasks/${e}`);const a=o.filter(s=>s._id!==e);n(a)}catch(a){console.error("Error deleting task:",a)}};return t.jsxs("div",{className:"pt-60 p-5 bg-primary min-h-screen text-white",children:[t.jsx("h1",{className:"text-4xl font-bold text-center mb-6 text-purple-500",children:"To-Do App"}),t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Enter a task",className:"p-2 border border-light-gray rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-dark-navy text-white"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-lg",children:"Importance:"}),t.jsxs("select",{value:p,onChange:e=>m(Number(e.target.value)),className:"p-2 border border-light-gray rounded-md bg-dark-navy text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:1,children:"Low"}),t.jsx("option",{value:2,children:"Medium"}),t.jsx("option",{value:3,children:"High"})]})]}),t.jsx("button",{onClick:u,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition",children:"Add Task"})]}),t.jsx("ul",{className:"mt-6",children:o.map(e=>t.jsxs("li",{className:`flex items-center justify-between p-3 mb-2 rounded-md shadow-md ${e.completed?"bg-teal-700":e.importance===3?"bg-red-700":e.importance===2?"bg-yellow-700":"bg-blue-700"}`,children:[t.jsx("span",{onClick:()=>x(e._id),className:`flex-grow cursor-pointer ${e.completed?"line-through text-gray-500":"text-white"}`,children:e.text}),t.jsxs("span",{className:"mr-4 text-lg font-bold",children:["!".repeat(e.importance)," "]}),t.jsx("button",{onClick:()=>h(e._id),className:"text-red-500 hover:text-red-700",children:"Delete"})]},e._id))})]})]})};export{j as default};
