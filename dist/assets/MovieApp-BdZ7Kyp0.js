import{_ as f}from"./three-DNkHk5z5.js";import{r,O as m,j as e,T as j}from"./vendor-Toy_dwVB.js";import{f as N}from"./motion-Ybvbpm5u.js";import{m as C}from"./framer-motion-48m-fW56.js";r.lazy(()=>f(()=>import("./styles-vCSINhSM.js"),[]));const P=()=>{const[c,p]=r.useState([]),[g,M]=r.useState(""),[o,n]=r.useState("all"),[u,x]=r.useState([]),[b,k]=r.useState([]),[_,E]=r.useState({title:"",type:"",language:"",description:"",embedCode:"",cover:""}),[d,h]=r.useState(null),[a,s]=r.useState(null);r.useEffect(()=>{m.get("http://localhost:5000/api/movies").then(t=>p(t.data)).catch(t=>console.error("Error fetching movies:",t))},[]);const v=async t=>{try{await m.delete(`http://localhost:5000/api/movies/${t}`),p(c.filter(l=>l._id!==t))}catch(l){console.error("Error deleting movie:",l)}},y=t=>{x([...u,t])},w=()=>{const t=o==="watchlist"?u:o==="continue"?b:c.filter(l=>l.title.toLowerCase().includes(g.toLowerCase()));return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:t.map(l=>e.jsxs(C.div,{variants:N("up","spring",.5,.75),style:{willChange:"transform, opacity"},className:"bg-dark-navy text-white p-4 rounded-lg shadow-md",onClick:()=>h(l),children:[e.jsx(j,{className:"relative w-full h-[230px]",children:e.jsx("img",{src:l.cover,alt:l.title,className:"w-full h-full object-cover rounded-md"})}),e.jsx("h3",{className:"text-lg font-bold mt-4",children:l.title}),e.jsx("p",{className:"text-sm text-gray-400",children:l.type}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{onClick:i=>{i.stopPropagation(),y(l)},className:"px-4 py-1 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition",children:"Watchlist"}),e.jsx("button",{onClick:i=>{i.stopPropagation(),s(l)},className:"px-4 py-1 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition",children:"Edit"}),e.jsx("button",{onClick:i=>{i.stopPropagation(),v(l._id)},className:"px-4 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition",children:"Delete"})]})]},l._id))})};return e.jsxs("div",{className:"p-6 bg-primary min-h-screen text-white",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-6 text-purple-500",children:"Movie App"}),e.jsxs("div",{className:"flex justify-around mb-6",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 ${o==="all"?"bg-purple-600":"bg-dark-navy"} text-white rounded-md hover:bg-purple-700 transition`,children:"Find Movies/TV"}),e.jsx("button",{onClick:()=>n("watchlist"),className:`px-4 py-2 ${o==="watchlist"?"bg-purple-600":"bg-dark-navy"} text-white rounded-md hover:bg-purple-700 transition`,children:"Watchlist"}),e.jsx("button",{onClick:()=>n("continue"),className:`px-4 py-2 ${o==="continue"?"bg-purple-600":"bg-dark-navy"} text-white rounded-md hover:bg-purple-700 transition`,children:"Continue Watching"}),e.jsx("button",{onClick:()=>n("addMovie"),className:`px-4 py-2 ${o==="addMovie"?"bg-purple-600":"bg-dark-navy"} text-white rounded-md hover:bg-purple-700 transition`,children:"Add Movie"})]}),a&&e.jsxs("div",{className:"max-w-md mx-auto mb-6",children:[e.jsx("input",{type:"text",value:a.title,onChange:t=>s({...a,title:t.target.value}),placeholder:"Title",className:"p-2 border border-light-gray rounded-md mb-4 w-full"}),e.jsx("input",{type:"text",value:a.type,onChange:t=>s({...a,type:t.target.value}),placeholder:"Type",className:"p-2 border border-light-gray rounded-md mb-4 w-full"}),e.jsx("input",{type:"text",value:a.language,onChange:t=>s({...a,language:t.target.value}),placeholder:"Language",className:"p-2 border border-light-gray rounded-md mb-4 w-full"}),e.jsx("textarea",{value:a.description,onChange:t=>s({...a,description:t.target.value}),placeholder:"Description",className:"p-2 border border-light-gray rounded-md mb-4 w-full"}),e.jsx("input",{type:"text",value:a.embedCode,onChange:t=>s({...a,embedCode:t.target.value}),placeholder:"Embed Code",className:"p-2 border border-light-gray rounded-md mb-4 w-full"}),e.jsx("input",{type:"text",value:a.cover,onChange:t=>s({...a,cover:t.target.value}),placeholder:"Cover URL",className:"p-2 border border-light-gray rounded-md mb-4 w-full"}),e.jsx("button",{onClick:updateMovie,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition w-full",children:"Update Movie"})]}),w(),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg relative w-3/4 h-3/4",children:[e.jsx("button",{onClick:()=>h(null),className:"absolute top-2 right-2 bg-red-500 text-white px-4 py-2 rounded-full",children:"Close"}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:d.title}),e.jsx("div",{className:"relative w-full h-full",children:e.jsx("iframe",{src:d.embedCode,title:d.title,className:"w-full h-full rounded-md",allow:"fullscreen"})})]})})]})};export{P as default};
